<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block title %}Financial Command Center AI{% endblock %}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <script>
      tailwind.config = {
        theme: {
          container: {
            center: true,
            padding: "1.5rem",
            screens: { "2xl": "1280px" }
          },
          extend: {
            colors: {
              border: "hsl(var(--border))",
              input: "hsl(var(--input))",
              ring: "hsl(var(--ring))",
              background: "hsl(var(--background))",
              foreground: "hsl(var(--foreground))",
              primary: {
                DEFAULT: "hsl(var(--primary))",
                foreground: "hsl(var(--primary-foreground))"
              },
              secondary: {
                DEFAULT: "hsl(var(--secondary))",
                foreground: "hsl(var(--secondary-foreground))"
              },
              destructive: {
                DEFAULT: "hsl(var(--destructive))",
                foreground: "hsl(var(--destructive-foreground))"
              },
              muted: {
                DEFAULT: "hsl(var(--muted))",
                foreground: "hsl(var(--muted-foreground))"
              },
              accent: {
                DEFAULT: "hsl(var(--accent))",
                foreground: "hsl(var(--accent-foreground))"
              },
              popover: {
                DEFAULT: "hsl(var(--popover))",
                foreground: "hsl(var(--popover-foreground))"
              },
              card: {
                DEFAULT: "hsl(var(--card))",
                foreground: "hsl(var(--card-foreground))"
              }
            },
            fontFamily: {
              sans: ["Inter", "ui-sans-serif", "system-ui", "-apple-system", "BlinkMacSystemFont", "Segoe UI", "Helvetica", "Arial", "sans-serif"]
            },
            boxShadow: {
              border: "0 0 0 1px hsl(var(--border))",
              card: "0 8px 30px -12px rgba(15, 23, 42, 0.25)"
            }
          }
        }
      }
    </script>
    <style type="text/tailwindcss">
      @layer base {
        :root {
          --background: 210 20% 98%;
          --foreground: 222 47% 11%;
          --card: 0 0% 100%;
          --card-foreground: 222 47% 11%;
          --popover: 0 0% 100%;
          --popover-foreground: 222 47% 11%;
          --primary: 221 83% 53%;
          --primary-foreground: 210 40% 98%;
          --secondary: 210 40% 96%;
          --secondary-foreground: 222 47% 11%;
          --muted: 214 32% 94%;
          --muted-foreground: 215 20% 47%;
          --accent: 221 83% 53%;
          --accent-foreground: 210 40% 98%;
          --destructive: 0 72% 51%;
          --destructive-foreground: 210 40% 98%;
          --border: 214 32% 91%;
          --input: 214 32% 91%;
          --ring: 221 83% 53%;
          --radius: 0.75rem;
        }

        body {
          @apply bg-background text-foreground font-sans antialiased;
        }

        .card {
          @apply rounded-xl border border-border bg-card text-card-foreground shadow-sm;
        }

        .card-muted {
          @apply rounded-xl border border-transparent bg-muted/60;
        }

        ::selection {
          @apply bg-primary/20;
        }
      }
    </style>
    {% block head_extra %}{% endblock %}
</head>
<body class="min-h-screen bg-background text-foreground">
    <div class="relative flex min-h-screen flex-col">
        {% if demo_banner %}
            {{ demo_banner | safe }}
        {% endif %}
        <header class="sticky top-0 z-40 border-b border-border bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60">
            <div class="container flex h-16 items-center justify-between gap-3">
                <a href="{{ brand_url or url_for('index') }}" class="flex items-center gap-3 text-base font-semibold text-foreground">
                    <span class="inline-flex h-9 w-9 items-center justify-center rounded-full bg-primary/15 text-primary">FCC</span>
                    <span>{{ brand_name or 'Financial Command Center AI' }}</span>
                </a>
                {% if nav_items %}
                    <nav class="hidden items-center gap-6 text-sm font-medium md:flex">
                        {% for item in nav_items %}
                            <a href="{{ item.href }}" class="transition-colors {{ 'text-foreground' if item.active else 'text-muted-foreground hover:text-foreground' }}">{{ item.label }}</a>
                        {% endfor %}
                    </nav>
                {% endif %}
                <div class="flex items-center gap-2">
                    {% block header_actions %}{% endblock %}
                </div>
            </div>
        </header>
        <main class="flex-1">
            <section class="container py-10">
                {% block content %}{% endblock %}
            </section>
        </main>
        <footer class="border-t border-border bg-muted/40">
            <div class="container flex flex-col gap-3 py-6 text-sm text-muted-foreground sm:flex-row sm:items-center sm:justify-between">
                <p>&copy; {{ current_year }} Financial Command Center AI. All rights reserved.</p>
                <div class="flex items-center gap-4">
                    <a href="/health" class="transition-colors hover:text-foreground">System Health</a>
                    <a href="/admin/dashboard" class="transition-colors hover:text-foreground">Admin</a>
                </div>
            </div>
        </footer>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/lucide@0.454.0/dist/umd/lucide.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        if (window.lucide) {
          window.lucide.createIcons();
        }
      });
    </script>
    {% block body_scripts %}{% endblock %}
</body>
</html>
